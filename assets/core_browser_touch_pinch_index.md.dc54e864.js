import{T as E}from"./chunks/touchCore.7e13d856.js";import{d as L,r as g,i as w,o as k,c as C,a as t,n as B,e as _,w as b,f as h,g as x}from"./app.5c8162dc.js";const{getPoint:a,getLength:m,getVector:f}=new E;function D(d){const{el:n,onPinchStart:c,onPinchMove:o,onPinchEnd:r}=d;let s,u;function p(e){if(e.touches.length>1){const i=f(a(e,0),a(e,1));s=m(i),c==null||c(e)}}function v(e){if(e.touches.length>1){if(s){const i=f(a(e,0),a(e,1));u=m(i)}else{const i=f(a(e,0),a(e,1));s=m(i)}u&&s&&(o==null||o({delta:{scale:u/s},origin:e}),s=u)}}function l(e){r==null||r(e)}return n.addEventListener("touchstart",p),n.addEventListener("touchmove",v),n.addEventListener("touchend",l),n.addEventListener("touchcancel",l),function(){n.removeEventListener("touchstart",p),n.removeEventListener("touchmove",v),n.removeEventListener("touchend",l),n.removeEventListener("touchcancel",l)}}const y=t("div",{class:"mb4"},"\u8BF7\u7528\u624B\u673A\u67E5\u770B\u6548\u679C",-1),S={class:"border h80 flex items-center justify-center"},T=L({__name:"demo",setup(d){const n=g(),c=g(1);return w(()=>{D({el:n.value,onPinchStart(o){o.preventDefault()},onPinchMove(o){o.origin.preventDefault();const{scale:r}=o.delta;c.value*=r}})}),(o,r)=>(k(),C("div",null,[y,t("div",S,[t("div",{ref_key:"pinchRef",ref:n,class:"w20 h20 border",style:B({transform:`scale(${c.value})`})},null,4)])]))}}),F=t("h1",{id:"pinch",tabindex:"-1"},[h("pinch "),t("a",{class:"header-anchor",href:"#pinch","aria-hidden":"true"},"#")],-1),N=t("p",null,"\u7F29\u653E\u624B\u52BF",-1),V=t("h2",{id:"demo",tabindex:"-1"},[h("Demo "),t("a",{class:"header-anchor",href:"#demo","aria-hidden":"true"},"#")],-1),$=t("h2",{id:"source",tabindex:"-1"},[h("Source "),t("a",{class:"header-anchor",href:"#source","aria-hidden":"true"},"#")],-1),O=t("p",null,[t("a",{href:"https://github.com/FastUse/utils/tree/main/packages/core/browser/touch/pinch/index.ts",target:"_blank",rel:"noreferrer"},"Source"),h(" \u2022 "),t("a",{href:"https://github.com/FastUse/utils/tree/main/packages/core/browser/touch/pinch/demo.vue",target:"_blank",rel:"noreferrer"},"Demo")],-1),z=JSON.parse('{"title":"pinch","description":"","frontmatter":{},"headers":[{"level":2,"title":"Demo","slug":"demo","link":"#demo","children":[]},{"level":2,"title":"Source","slug":"source","link":"#source","children":[]}],"relativePath":"core/browser/touch/pinch/index.md"}'),R={name:"core/browser/touch/pinch/index.md"},A=L({...R,setup(d){return(n,c)=>{const o=x("DemoContainer"),r=x("ClientOnly");return k(),C("div",null,[F,N,V,_(r,null,{default:b(()=>[_(o,null,{default:b(()=>[_(T)]),_:1})]),_:1}),$,O])}}});export{z as __pageData,A as default};
